{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\dgaidar\\\\Documents\\\\VScode\\\\React\\\\FoodOrderingSite\\\\components\\\\Details\\\\BusinessReviews.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport styles from './Details.module.css';\nimport { useEffect, useRef, useState } from 'react';\nimport ReviewItem from './ReviewItem';\n\nvar BusinessReviews = function BusinessReviews(props) {\n  _s();\n\n  var subjectRef = useRef();\n  var bodyRef = useRef();\n\n  var _useState = useState(false),\n      star1 = _useState[0],\n      setStar1 = _useState[1];\n\n  var _useState2 = useState(false),\n      star2 = _useState2[0],\n      setStar2 = _useState2[1];\n\n  var _useState3 = useState(false),\n      star3 = _useState3[0],\n      setStar3 = _useState3[1];\n\n  var _useState4 = useState(false),\n      star4 = _useState4[0],\n      setStar4 = _useState4[1];\n\n  var _useState5 = useState(false),\n      star5 = _useState5[0],\n      setStar5 = _useState5[1];\n\n  var _useState6 = useState(false),\n      err = _useState6[0],\n      setErr = _useState6[1];\n\n  var _useState7 = useState(0),\n      display = _useState7[0],\n      setDisplay = _useState7[1];\n\n  var _useState8 = useState([]),\n      circArr = _useState8[0],\n      setCircArr = _useState8[1];\n\n  useEffect(function () {\n    setCircArr(function (prevVal) {\n      prevVal = [];\n\n      while (prevVal.length < props.total / 2) {\n        if (prevVal.length == props.pageNum - 1) {\n          prevVal.push( /*#__PURE__*/_jsxDEV(\"span\", {\n            className: styles.selectedBtn,\n            children: \"  \\u25CF\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 22,\n            columnNumber: 30\n          }, _this));\n        } else {\n          prevVal.push( /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: '#797979'\n            },\n            children: \" \\u25CF\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 25,\n            columnNumber: 26\n          }, _this));\n        }\n      }\n\n      return prevVal;\n    });\n  }, [props.plus, props.minus]);\n\n  var starSetter = function starSetter(e) {\n    e.preventDefault();\n\n    if (e.target.name == 'star 1') {\n      setStar1(function (prevState) {\n        if (star2 || star3 || star4 || star5) {\n          if (star2) {\n            setStar2(false);\n          }\n\n          if (star3) {\n            setStar3(false);\n          }\n\n          if (star4) {\n            setStar4(false);\n          }\n\n          if (star5) {\n            setStar5(false);\n          }\n\n          return prevState;\n        }\n\n        return !prevState;\n      });\n    }\n\n    if (e.target.name == 'star 2') {\n      setStar2(function (prevState) {\n        if (star3 || star4 || star5) {\n          if (star3) {\n            setStar3(false);\n          }\n\n          if (star4) {\n            setStar4(false);\n          }\n\n          if (star5) {\n            setStar5(false);\n          }\n\n          return prevState;\n        }\n\n        prevState = !prevState;\n        setStar1(prevState === true);\n        return prevState;\n      });\n    }\n\n    if (e.target.name == 'star 3') {\n      setStar3(function (prevState) {\n        if (star4 || star5) {\n          if (star4) {\n            setStar4(false);\n          }\n\n          if (star5) {\n            setStar5(false);\n          }\n\n          return prevState;\n        }\n\n        prevState = !prevState;\n        setStar2(prevState === true);\n        setStar1(prevState === true);\n        return prevState;\n      });\n    }\n\n    if (e.target.name == 'star 4') {\n      setStar4(function (prevState) {\n        if (star5) {\n          setStar5(false);\n          return prevState;\n        }\n\n        prevState = !prevState;\n        setStar3(prevState === true);\n        setStar2(prevState === true);\n        setStar1(prevState === true);\n        return prevState;\n      });\n    }\n\n    if (e.target.name == 'star 5') {\n      console.log('h');\n      setStar5(function (prevState) {\n        prevState = !prevState;\n        setStar4(prevState === true);\n        setStar3(prevState === true);\n        setStar2(prevState === true);\n        setStar1(prevState === true);\n        return prevState;\n      });\n    }\n  };\n\n  var clicker = function clicker(e) {\n    var stars = 5;\n\n    if (!star5) {\n      stars = 4;\n    }\n\n    if (!star4) {\n      stars = 3;\n    }\n\n    if (!star3) {\n      stars = 2;\n    }\n\n    if (!star2) {\n      stars = 1;\n    }\n\n    if (!star1) {\n      e.preventDefault();\n      setErr(true);\n      return;\n    }\n\n    if (subjectRef.current.value == '') {\n      e.preventDefault();\n      setErr(true);\n      return;\n    }\n\n    if (bodyRef.current.value == '') {\n      e.preventDefault();\n      setErr(true);\n      return;\n    }\n\n    setStar1(false);\n    setStar2(false);\n    setStar3(false);\n    setStar4(false);\n    setStar5(false);\n    var enteredReviewData = {\n      subject: subjectRef.current.value,\n      body: bodyRef.current.value,\n      stars: stars,\n      date: new Date().toISOString().split('T')[0]\n    };\n    subjectRef.current.value = '';\n    bodyRef.current.value = '';\n    props.addReviewHandler(enteredReviewData);\n  };\n\n  var displayHandler = function displayHandler() {\n    if (display == 0) {\n      setDisplay(275);\n      return;\n    }\n\n    setDisplay(0);\n  };\n\n  var plusHandler = function plusHandler(e) {\n    e.preventDefault();\n    props.plus();\n  };\n\n  var minusHandler = function minusHandler(e) {\n    e.preventDefault();\n    props.minus();\n  };\n\n  console.log(props.reviewList);\n\n  if (props.reviewList) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.reviewTitle,\n        children: \"Reviews\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 8\n      }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: displayHandler,\n        className: styles.displayButton,\n        children: \"Click Here to Display Reviews\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.visibility,\n        style: {\n          height: display\n        },\n        children: [props.isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.loading,\n          children: \" Reviews Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 29\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            height: 213\n          },\n          children: !props.isLoading && props.reviewList.map(function (review) {\n            return /*#__PURE__*/_jsxDEV(ReviewItem, {\n              user: review.user,\n              date: review.date,\n              body: review.body,\n              stars: review.stars,\n              subject: review.subject\n            }, review.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 61\n            }, _this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 9\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: circArr\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 9\n        }, _this), !(props.pageNum == 1) && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: styles.nextBtn,\n          onClick: minusHandler,\n          children: \"Previous\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 35\n        }, _this), props.total % 2 == 0 ? props.pageNum != parseInt(props.total / 2) && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: styles.nextBtn,\n          onClick: plusHandler,\n          children: \"Next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 12\n        }, _this) : props.pageNum < parseInt(props.total / 2) + 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: styles.nextBtn,\n          onClick: plusHandler,\n          children: \"Next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 12\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 12\n    }, _this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 218,\n    columnNumber: 12\n  }, _this);\n};\n\n_s(BusinessReviews, \"5l8Xtt2M6Uc9hU9ZOB/nhSgCCeE=\");\n\n_c = BusinessReviews;\nexport default BusinessReviews;\n\nvar _c;\n\n$RefreshReg$(_c, \"BusinessReviews\");","map":{"version":3,"sources":["C:/Users/dgaidar/Documents/VScode/React/FoodOrderingSite/components/Details/BusinessReviews.js"],"names":["styles","useEffect","useRef","useState","ReviewItem","BusinessReviews","props","subjectRef","bodyRef","star1","setStar1","star2","setStar2","star3","setStar3","star4","setStar4","star5","setStar5","err","setErr","display","setDisplay","circArr","setCircArr","prevVal","length","total","pageNum","push","selectedBtn","color","plus","minus","starSetter","e","preventDefault","target","name","prevState","console","log","clicker","stars","current","value","enteredReviewData","subject","body","date","Date","toISOString","split","addReviewHandler","displayHandler","plusHandler","minusHandler","reviewList","reviewTitle","displayButton","visibility","height","isLoading","loading","map","review","user","id","nextBtn","parseInt"],"mappings":";;;;;;AAAA,OAAOA,MAAP,MAAmB,sBAAnB;AACA,SAASC,SAAT,EAAoBC,MAApB,EAA4BC,QAA5B,QAA4C,OAA5C;AACA,OAAOC,UAAP,MAAuB,cAAvB;;AACA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD,EAAW;AAAA;;AAC/B,MAAMC,UAAU,GAAGL,MAAM,EAAzB;AACA,MAAMM,OAAO,GAAGN,MAAM,EAAtB;;AAF+B,kBAILC,QAAQ,CAAC,KAAD,CAJH;AAAA,MAIxBM,KAJwB;AAAA,MAIjBC,QAJiB;;AAAA,mBAKNP,QAAQ,CAAC,KAAD,CALF;AAAA,MAKxBQ,KALwB;AAAA,MAKlBC,QALkB;;AAAA,mBAMLT,QAAQ,CAAC,KAAD,CANH;AAAA,MAMxBU,KANwB;AAAA,MAMjBC,QANiB;;AAAA,mBAOLX,QAAQ,CAAC,KAAD,CAPH;AAAA,MAOxBY,KAPwB;AAAA,MAOjBC,QAPiB;;AAAA,mBAQLb,QAAQ,CAAC,KAAD,CARH;AAAA,MAQxBc,KARwB;AAAA,MAQjBC,QARiB;;AAAA,mBASTf,QAAQ,CAAC,KAAD,CATC;AAAA,MASxBgB,GATwB;AAAA,MASnBC,MATmB;;AAAA,mBAUDjB,QAAQ,CAAC,CAAD,CAVP;AAAA,MAUxBkB,OAVwB;AAAA,MAUfC,UAVe;;AAAA,mBAWDnB,QAAQ,CAAC,EAAD,CAXP;AAAA,MAWxBoB,OAXwB;AAAA,MAWfC,UAXe;;AAY/BvB,EAAAA,SAAS,CAAC,YAAM;AACbuB,IAAAA,UAAU,CAAC,UAAAC,OAAO,EAAI;AACrBA,MAAAA,OAAO,GAAG,EAAV;;AAEA,aAAOA,OAAO,CAACC,MAAR,GAAiBpB,KAAK,CAACqB,KAAN,GAAY,CAApC,EAAuC;AACnC,YAAIF,OAAO,CAACC,MAAR,IAAkBpB,KAAK,CAACsB,OAAN,GAAgB,CAAtC,EAAyC;AACrCH,UAAAA,OAAO,CAACI,IAAR,eAAa;AAAM,YAAA,SAAS,EAAI7B,MAAM,CAAC8B,WAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAb;AACH,SAFD,MAGK;AACLL,UAAAA,OAAO,CAACI,IAAR,eAAa;AAAM,YAAA,KAAK,EAAI;AAACE,cAAAA,KAAK,EAAE;AAAR,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAb;AACC;AACJ;;AACD,aAAON,OAAP;AACA,KAZS,CAAV;AAaF,GAdQ,EAcN,CAACnB,KAAK,CAAC0B,IAAP,EAAa1B,KAAK,CAAC2B,KAAnB,CAdM,CAAT;;AAgBA,MAAMC,UAAU,GAAG,SAAbA,UAAa,CAACC,CAAD,EAAO;AACtBA,IAAAA,CAAC,CAACC,cAAF;;AACA,QAAID,CAAC,CAACE,MAAF,CAASC,IAAT,IAAiB,QAArB,EACA;AACI5B,MAAAA,QAAQ,CAAC,UAAA6B,SAAS,EAAI;AAClB,YAAI5B,KAAK,IAAIE,KAAT,IAAkBE,KAAlB,IAA2BE,KAA/B,EAAqC;AACjC,cAAIN,KAAJ,EAAU;AACNC,YAAAA,QAAQ,CAAC,KAAD,CAAR;AACH;;AACD,cAAIC,KAAJ,EAAU;AACVC,YAAAA,QAAQ,CAAC,KAAD,CAAR;AACC;;AACD,cAAIC,KAAJ,EAAW;AACPC,YAAAA,QAAQ,CAAC,KAAD,CAAR;AACH;;AACD,cAAIC,KAAJ,EAAW;AACPC,YAAAA,QAAQ,CAAC,KAAD,CAAR;AACH;;AACD,iBAAOqB,SAAP;AACH;;AACD,eAAO,CAACA,SAAR;AAAkB,OAhBd,CAAR;AAmBH;;AACD,QAAIJ,CAAC,CAACE,MAAF,CAASC,IAAT,IAAiB,QAArB,EACA;AACI1B,MAAAA,QAAQ,CAAC,UAAA2B,SAAS,EAAI;AACtB,YAAI1B,KAAK,IAAIE,KAAT,IAAkBE,KAAtB,EAA4B;AACxB,cAAIJ,KAAJ,EAAU;AACVC,YAAAA,QAAQ,CAAC,KAAD,CAAR;AACC;;AACD,cAAIC,KAAJ,EAAW;AACPC,YAAAA,QAAQ,CAAC,KAAD,CAAR;AACH;;AACD,cAAIC,KAAJ,EAAW;AACPC,YAAAA,QAAQ,CAAC,KAAD,CAAR;AACH;;AACD,iBAAOqB,SAAP;AACH;;AACDA,QAAAA,SAAS,GAAG,CAACA,SAAb;AACA7B,QAAAA,QAAQ,CAAC6B,SAAS,KAAK,IAAf,CAAR;AACA,eAAOA,SAAP;AACC,OAhBO,CAAR;AAkBH;;AACD,QAAIJ,CAAC,CAACE,MAAF,CAASC,IAAT,IAAiB,QAArB,EACA;AACIxB,MAAAA,QAAQ,CAAC,UAAAyB,SAAS,EAAI;AAClB,YAAKxB,KAAK,IAAIE,KAAd,EAAoB;AAChB,cAAIF,KAAJ,EAAW;AACPC,YAAAA,QAAQ,CAAC,KAAD,CAAR;AACH;;AACD,cAAIC,KAAJ,EAAW;AACPC,YAAAA,QAAQ,CAAC,KAAD,CAAR;AACH;;AACD,iBAAOqB,SAAP;AACH;;AACDA,QAAAA,SAAS,GAAG,CAACA,SAAb;AACA3B,QAAAA,QAAQ,CAAC2B,SAAS,KAAK,IAAf,CAAR;AACA7B,QAAAA,QAAQ,CAAC6B,SAAS,KAAK,IAAf,CAAR;AACA,eAAOA,SAAP;AACC,OAdG,CAAR;AAeH;;AACD,QAAIJ,CAAC,CAACE,MAAF,CAASC,IAAT,IAAiB,QAArB,EACA;AACItB,MAAAA,QAAQ,CAAC,UAAAuB,SAAS,EAAI;AAClB,YAAKtB,KAAL,EAAW;AACPC,UAAAA,QAAQ,CAAC,KAAD,CAAR;AACA,iBAAOqB,SAAP;AACH;;AACDA,QAAAA,SAAS,GAAG,CAACA,SAAb;AACAzB,QAAAA,QAAQ,CAACyB,SAAS,KAAK,IAAf,CAAR;AACA3B,QAAAA,QAAQ,CAAC2B,SAAS,KAAK,IAAf,CAAR;AACA7B,QAAAA,QAAQ,CAAC6B,SAAS,KAAK,IAAf,CAAR;AACA,eAAOA,SAAP;AACC,OAVG,CAAR;AAWH;;AACD,QAAIJ,CAAC,CAACE,MAAF,CAASC,IAAT,IAAiB,QAArB,EACA;AACIE,MAAAA,OAAO,CAACC,GAAR,CAAY,GAAZ;AACAvB,MAAAA,QAAQ,CAAC,UAAAqB,SAAS,EAAI;AAClBA,QAAAA,SAAS,GAAG,CAACA,SAAb;AACAvB,QAAAA,QAAQ,CAACuB,SAAS,KAAK,IAAf,CAAR;AACAzB,QAAAA,QAAQ,CAACyB,SAAS,KAAK,IAAf,CAAR;AACA3B,QAAAA,QAAQ,CAAC2B,SAAS,KAAK,IAAf,CAAR;AACA7B,QAAAA,QAAQ,CAAC6B,SAAS,KAAK,IAAf,CAAR;AACA,eAAOA,SAAP;AACC,OAPG,CAAR;AAQH;AAEJ,GA1FD;;AA2FA,MAAMG,OAAO,GAAG,SAAVA,OAAU,CAACP,CAAD,EAAO;AAEnB,QAAIQ,KAAK,GAAG,CAAZ;;AACA,QAAI,CAAC1B,KAAL,EAAY;AACR0B,MAAAA,KAAK,GAAG,CAAR;AACH;;AACD,QAAI,CAAC5B,KAAL,EAAY;AACR4B,MAAAA,KAAK,GAAG,CAAR;AACH;;AACD,QAAI,CAAC9B,KAAL,EAAY;AACR8B,MAAAA,KAAK,GAAG,CAAR;AACH;;AACD,QAAI,CAAChC,KAAL,EAAW;AACPgC,MAAAA,KAAK,GAAG,CAAR;AACH;;AACD,QAAI,CAAClC,KAAL,EAAY;AACR0B,MAAAA,CAAC,CAACC,cAAF;AACAhB,MAAAA,MAAM,CAAC,IAAD,CAAN;AAEA;AACH;;AACD,QAAIb,UAAU,CAACqC,OAAX,CAAmBC,KAAnB,IAA4B,EAAhC,EAAmC;AAC/BV,MAAAA,CAAC,CAACC,cAAF;AACAhB,MAAAA,MAAM,CAAC,IAAD,CAAN;AAEA;AACH;;AACD,QAAIZ,OAAO,CAACoC,OAAR,CAAgBC,KAAhB,IAAyB,EAA7B,EAAgC;AAC5BV,MAAAA,CAAC,CAACC,cAAF;AACAhB,MAAAA,MAAM,CAAC,IAAD,CAAN;AACA;AACH;;AACDV,IAAAA,QAAQ,CAAC,KAAD,CAAR;AACAE,IAAAA,QAAQ,CAAC,KAAD,CAAR;AACAE,IAAAA,QAAQ,CAAC,KAAD,CAAR;AACAE,IAAAA,QAAQ,CAAC,KAAD,CAAR;AACAE,IAAAA,QAAQ,CAAC,KAAD,CAAR;AACA,QAAM4B,iBAAiB,GAAG;AACtBC,MAAAA,OAAO,EAAExC,UAAU,CAACqC,OAAX,CAAmBC,KADN;AAEtBG,MAAAA,IAAI,EAAExC,OAAO,CAACoC,OAAR,CAAgBC,KAFA;AAGtBF,MAAAA,KAAK,EAAEA,KAHe;AAItBM,MAAAA,IAAI,EAAE,IAAIC,IAAJ,GAAWC,WAAX,GAAyBC,KAAzB,CAA+B,GAA/B,EAAoC,CAApC;AAJgB,KAA1B;AAMA7C,IAAAA,UAAU,CAACqC,OAAX,CAAmBC,KAAnB,GAA2B,EAA3B;AACArC,IAAAA,OAAO,CAACoC,OAAR,CAAgBC,KAAhB,GAAwB,EAAxB;AACAvC,IAAAA,KAAK,CAAC+C,gBAAN,CAAuBP,iBAAvB;AACH,GA9CD;;AA+CA,MAAMQ,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AACzB,QAAIjC,OAAO,IAAI,CAAf,EAAiB;AACbC,MAAAA,UAAU,CAAC,GAAD,CAAV;AACA;AACH;;AACDA,IAAAA,UAAU,CAAC,CAAD,CAAV;AACH,GAND;;AAOA,MAAMiC,WAAW,GAAG,SAAdA,WAAc,CAACpB,CAAD,EAAO;AACvBA,IAAAA,CAAC,CAACC,cAAF;AACC9B,IAAAA,KAAK,CAAC0B,IAAN;AACJ,GAHD;;AAIA,MAAMwB,YAAY,GAAG,SAAfA,YAAe,CAACrB,CAAD,EAAO;AACxBA,IAAAA,CAAC,CAACC,cAAF;AACC9B,IAAAA,KAAK,CAAC2B,KAAN;AACJ,GAHD;;AAIAO,EAAAA,OAAO,CAACC,GAAR,CAAYnC,KAAK,CAACmD,UAAlB;;AACA,MAAInD,KAAK,CAACmD,UAAV,EAAsB;AACtB,wBAAO;AAAA,8BACH;AAAK,QAAA,SAAS,EAAIzD,MAAM,CAAC0D,WAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADG,eAIJ;AAAA;AAAA;AAAA;AAAA,eAJI,eAKH;AAAQ,QAAA,OAAO,EAAIJ,cAAnB;AAAmC,QAAA,SAAS,EAAItD,MAAM,CAAC2D,aAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eALG,eAMH;AAAK,QAAA,SAAS,EAAI3D,MAAM,CAAC4D,UAAzB;AAAqC,QAAA,KAAK,EAAI;AAACC,UAAAA,MAAM,EAAExC;AAAT,SAA9C;AAAA,mBACCf,KAAK,CAACwD,SAAN,iBAAmB;AAAM,UAAA,SAAS,EAAI9D,MAAM,CAAC+D,OAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADpB,eAEA;AAAK,UAAA,KAAK,EAAI;AAACF,YAAAA,MAAM,EAAE;AAAT,WAAd;AAAA,oBACC,CAACvD,KAAK,CAACwD,SAAP,IAAoBxD,KAAK,CAACmD,UAAN,CAAiBO,GAAjB,CAAqB,UAAAC,MAAM;AAAA,gCAAI,QAAC,UAAD;AAEpD,cAAA,IAAI,EAAIA,MAAM,CAACC,IAFqC;AAGpD,cAAA,IAAI,EAAID,MAAM,CAAChB,IAHqC;AAIpD,cAAA,IAAI,EAAIgB,MAAM,CAACjB,IAJqC;AAKpD,cAAA,KAAK,EAAIiB,MAAM,CAACtB,KALoC;AAMpD,cAAA,OAAO,EAAIsB,MAAM,CAAClB;AANkC,eAC7CkB,MAAM,CAACE,EADsC;AAAA;AAAA;AAAA;AAAA,qBAAJ;AAAA,WAA3B;AADrB;AAAA;AAAA;AAAA;AAAA,iBAFA,eAWA;AAAA,oBACC5C;AADD;AAAA;AAAA;AAAA;AAAA,iBAXA,EAeC,EAAEjB,KAAK,CAACsB,OAAN,IAAiB,CAAnB,kBAAyB;AAAQ,UAAA,SAAS,EAAI5B,MAAM,CAACoE,OAA5B;AAAqC,UAAA,OAAO,EAAIZ,YAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAf1B,EAgBClD,KAAK,CAACqB,KAAN,GAAc,CAAd,IAAmB,CAAnB,GAAuBrB,KAAK,CAACsB,OAAN,IAAiByC,QAAQ,CAAC/D,KAAK,CAACqB,KAAN,GAAc,CAAf,CAAzB,iBACrB;AAAQ,UAAA,SAAS,EAAI3B,MAAM,CAACoE,OAA5B;AAAsC,UAAA,OAAO,EAAIb,WAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,GAEEjD,KAAK,CAACsB,OAAN,GAAgByC,QAAQ,CAAC/D,KAAK,CAACqB,KAAN,GAAc,CAAf,CAAR,GAA4B,CAA5C,iBACA;AAAQ,UAAA,SAAS,EAAI3B,MAAM,CAACoE,OAA5B;AAAqC,UAAA,OAAO,EAAIb,WAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAnBH;AAAA;AAAA;AAAA;AAAA;AAAA,eANG;AAAA;AAAA;AAAA;AAAA;AAAA,aAAP;AA8BC;;AACD,sBAAO;AAAA;AAAA;AAAA;AAAA,WAAP;AACH,CAvND;;GAAMlD,e;;KAAAA,e;AAyNN,eAAeA,eAAf","sourcesContent":["import styles from './Details.module.css';\r\nimport { useEffect, useRef, useState } from 'react';\r\nimport ReviewItem from './ReviewItem';\r\nconst BusinessReviews = (props) => {\r\n    const subjectRef = useRef();\r\n    const bodyRef = useRef();\r\n    \r\n    const [star1, setStar1] = useState(false);\r\n    const [star2,setStar2] = useState(false);\r\n    const [star3, setStar3] = useState(false);\r\n    const [star4, setStar4] = useState(false);\r\n    const [star5, setStar5] = useState(false);\r\n    const [err, setErr] = useState(false);\r\n    const [display, setDisplay] = useState(0);\r\n    const [circArr, setCircArr] = useState([]);\r\n    useEffect(() => {\r\n       setCircArr(prevVal => {\r\n        prevVal = [];\r\n        \r\n        while (prevVal.length < props.total/2) {\r\n            if (prevVal.length == props.pageNum - 1) {\r\n                prevVal.push(<span className = {styles.selectedBtn}>  &#9679;</span>)\r\n            }\r\n            else {\r\n            prevVal.push(<span style = {{color: '#797979'}}> &#9679;</span>)\r\n            }\r\n        }\r\n        return prevVal;\r\n       })\r\n    }, [props.plus, props.minus])\r\n    \r\n    const starSetter = (e) => {\r\n        e.preventDefault();\r\n        if (e.target.name == 'star 1')\r\n        {\r\n            setStar1(prevState => {\r\n                if (star2 || star3 || star4 || star5){\r\n                    if (star2){\r\n                        setStar2(false);\r\n                    }\r\n                    if (star3){\r\n                    setStar3(false);\r\n                    }\r\n                    if (star4) {\r\n                        setStar4(false);\r\n                    }\r\n                    if (star5) {\r\n                        setStar5(false);\r\n                    }\r\n                    return prevState;\r\n                }\r\n                return !prevState});\r\n            \r\n           \r\n        }\r\n        if (e.target.name == 'star 2')\r\n        {\r\n            setStar2(prevState => {\r\n            if (star3 || star4 || star5){\r\n                if (star3){\r\n                setStar3(false);\r\n                }\r\n                if (star4) {\r\n                    setStar4(false);\r\n                }\r\n                if (star5) {\r\n                    setStar5(false);\r\n                }\r\n                return prevState;\r\n            }\r\n            prevState = !prevState;\r\n            setStar1(prevState === true);\r\n            return prevState;\r\n            })\r\n            \r\n        }\r\n        if (e.target.name == 'star 3')\r\n        {\r\n            setStar3(prevState => {\r\n                if ( star4 || star5){\r\n                    if (star4) {\r\n                        setStar4(false);\r\n                    }\r\n                    if (star5) {\r\n                        setStar5(false);\r\n                    }\r\n                    return prevState;\r\n                }\r\n                prevState = !prevState;\r\n                setStar2(prevState === true);\r\n                setStar1(prevState === true);\r\n                return prevState;\r\n                })\r\n        }\r\n        if (e.target.name == 'star 4')\r\n        {\r\n            setStar4(prevState => {\r\n                if ( star5){\r\n                    setStar5(false);\r\n                    return prevState;\r\n                }\r\n                prevState = !prevState;\r\n                setStar3(prevState === true);\r\n                setStar2(prevState === true);\r\n                setStar1(prevState === true);\r\n                return prevState;\r\n                })\r\n        }\r\n        if (e.target.name == 'star 5')\r\n        {\r\n            console.log('h');\r\n            setStar5(prevState => {\r\n                prevState = !prevState;\r\n                setStar4(prevState === true);\r\n                setStar3(prevState === true);\r\n                setStar2(prevState === true);\r\n                setStar1(prevState === true);\r\n                return prevState;\r\n                })\r\n        }\r\n       \r\n    }\r\n    const clicker = (e) => {\r\n       \r\n        let stars = 5;\r\n        if (!star5) {\r\n            stars = 4;\r\n        }\r\n        if (!star4) {\r\n            stars = 3;\r\n        }\r\n        if (!star3) {\r\n            stars = 2;\r\n        }\r\n        if (!star2){\r\n            stars = 1;\r\n        }\r\n        if (!star1) {\r\n            e.preventDefault();\r\n            setErr(true);\r\n           \r\n            return;\r\n        }\r\n        if (subjectRef.current.value == ''){\r\n            e.preventDefault();\r\n            setErr(true);\r\n           \r\n            return;\r\n        }\r\n        if (bodyRef.current.value == ''){\r\n            e.preventDefault();\r\n            setErr(true);\r\n            return;\r\n        }\r\n        setStar1(false);\r\n        setStar2(false);\r\n        setStar3(false);\r\n        setStar4(false);\r\n        setStar5(false);\r\n        const enteredReviewData = {\r\n            subject: subjectRef.current.value,\r\n            body: bodyRef.current.value,\r\n            stars: stars,\r\n            date: new Date().toISOString().split('T')[0]\r\n        }\r\n        subjectRef.current.value = '';\r\n        bodyRef.current.value = '';\r\n        props.addReviewHandler(enteredReviewData);\r\n    }\r\n    const displayHandler = () => {\r\n        if (display == 0){\r\n            setDisplay(275);\r\n            return;\r\n        }\r\n        setDisplay(0);\r\n    }\r\n    const plusHandler = (e) => {\r\n        e.preventDefault();\r\n         props.plus();\r\n    }\r\n    const minusHandler = (e) => {\r\n        e.preventDefault();\r\n         props.minus();\r\n    }\r\n    console.log(props.reviewList);\r\n    if (props.reviewList) {\r\n    return <div>\r\n        <div className = {styles.reviewTitle}>\r\n            Reviews\r\n        </div>\r\n       <hr/>\r\n        <button onClick = {displayHandler} className = {styles.displayButton}>Click Here to Display Reviews</button>\r\n        <div className = {styles.visibility} style = {{height: display}}>\r\n        {props.isLoading && <div  className = {styles.loading}> Reviews Loading...</div>}\r\n        <div style = {{height: 213}}>\r\n        {!props.isLoading && props.reviewList.map(review => <ReviewItem \r\n        key = {review.id} \r\n        user = {review.user} \r\n        date = {review.date}\r\n        body = {review.body}\r\n        stars = {review.stars}\r\n        subject = {review.subject}/>)}\r\n        </div>\r\n        <div>\r\n        {circArr}\r\n        </div>\r\n      \r\n        {!(props.pageNum == 1) && <button className = {styles.nextBtn} onClick = {minusHandler}>Previous</button>}\r\n        {props.total % 2 == 0 ? props.pageNum != parseInt(props.total / 2)  \r\n        && <button className = {styles.nextBtn}  onClick = {plusHandler}>Next</button> \r\n        :  props.pageNum < parseInt(props.total / 2) + 1 \r\n        && <button className = {styles.nextBtn} onClick = {plusHandler}>Next</button>} \r\n        \r\n        \r\n        </div>\r\n    </div>\r\n    }\r\n    return <div></div>\r\n}\r\n\r\nexport default BusinessReviews;"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\dgaidar\\\\Documents\\\\VScode\\\\React\\\\FoodOrderingSite\\\\components\\\\Details\\\\ReviewPage.js\";\nimport styles from './Details.module.css';\nimport { useEffect, useRef, useState } from 'react';\nimport ReviewItem from './ReviewItem';\n\nconst ReviewPage = props => {\n  const subjectRef = useRef();\n  const bodyRef = useRef();\n  const {\n    0: star1,\n    1: setStar1\n  } = useState(false);\n  const {\n    0: star2,\n    1: setStar2\n  } = useState(false);\n  const {\n    0: star3,\n    1: setStar3\n  } = useState(false);\n  const {\n    0: star4,\n    1: setStar4\n  } = useState(false);\n  const {\n    0: star5,\n    1: setStar5\n  } = useState(false);\n  const {\n    0: err,\n    1: setErr\n  } = useState(false);\n  const {\n    0: display,\n    1: setDisplay\n  } = useState(0);\n  const {\n    0: circArr,\n    1: setCircArr\n  } = useState([]);\n  useEffect(() => {\n    setCircArr(prevVal => {\n      prevVal = [];\n\n      while (prevVal.length < props.total / 2) {\n        prevVal.push( /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \" \\u25CF\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 21,\n          columnNumber: 26\n        }, this));\n      }\n\n      return prevVal;\n    });\n  }, []);\n\n  const starSetter = e => {\n    e.preventDefault();\n\n    if (e.target.name == 'star 1') {\n      setStar1(prevState => {\n        if (star2 || star3 || star4 || star5) {\n          if (star2) {\n            setStar2(false);\n          }\n\n          if (star3) {\n            setStar3(false);\n          }\n\n          if (star4) {\n            setStar4(false);\n          }\n\n          if (star5) {\n            setStar5(false);\n          }\n\n          return prevState;\n        }\n\n        return !prevState;\n      });\n    }\n\n    if (e.target.name == 'star 2') {\n      setStar2(prevState => {\n        if (star3 || star4 || star5) {\n          if (star3) {\n            setStar3(false);\n          }\n\n          if (star4) {\n            setStar4(false);\n          }\n\n          if (star5) {\n            setStar5(false);\n          }\n\n          return prevState;\n        }\n\n        prevState = !prevState;\n        setStar1(prevState === true);\n        return prevState;\n      });\n    }\n\n    if (e.target.name == 'star 3') {\n      setStar3(prevState => {\n        if (star4 || star5) {\n          if (star4) {\n            setStar4(false);\n          }\n\n          if (star5) {\n            setStar5(false);\n          }\n\n          return prevState;\n        }\n\n        prevState = !prevState;\n        setStar2(prevState === true);\n        setStar1(prevState === true);\n        return prevState;\n      });\n    }\n\n    if (e.target.name == 'star 4') {\n      setStar4(prevState => {\n        if (star5) {\n          setStar5(false);\n          return prevState;\n        }\n\n        prevState = !prevState;\n        setStar3(prevState === true);\n        setStar2(prevState === true);\n        setStar1(prevState === true);\n        return prevState;\n      });\n    }\n\n    if (e.target.name == 'star 5') {\n      console.log('h');\n      setStar5(prevState => {\n        prevState = !prevState;\n        setStar4(prevState === true);\n        setStar3(prevState === true);\n        setStar2(prevState === true);\n        setStar1(prevState === true);\n        return prevState;\n      });\n    }\n  };\n\n  const clicker = e => {\n    e.preventDefault();\n    let stars = 5;\n\n    if (!star1) {\n      stars = 4;\n    }\n\n    if (!star4) {\n      stars = 3;\n    }\n\n    if (!star3) {\n      stars = 2;\n    }\n\n    if (!star2) {\n      stars = 1;\n    }\n\n    if (!star1) {\n      setErr(true);\n      return;\n    }\n\n    if (subjectRef.current.value == '') {\n      setErr(true);\n      return;\n    }\n\n    if (bodyRef.current.value == '') {\n      setErr(true);\n      return;\n    }\n\n    setStar1(false);\n    setStar2(false);\n    setStar3(false);\n    setStar4(false);\n    setStar5(false);\n    const enteredReviewData = {\n      subject: subjectRef.current.value,\n      body: bodyRef.current.value,\n      stars: stars,\n      date: new Date().toISOString().split('T')[0]\n    };\n    subjectRef.current.value = '';\n    bodyRef.current.value = '';\n    props.addReviewHandler(enteredReviewData);\n  };\n\n  const displayHandler = () => {\n    if (display == 0) {\n      setDisplay(500);\n      return;\n    }\n\n    setDisplay(0);\n  };\n\n  const plusHandler = () => {\n    props.plus();\n  };\n\n  console.log(props.reviewList);\n\n  if (props.reviewList) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.reviewTitle,\n        children: \"Reviews\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.stars,\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: starSetter,\n            name: \"star 5\",\n            className: star5 ? styles.trueBtn : styles.falseBtn,\n            children: \" \\u2605\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: starSetter,\n            name: \"star 4\",\n            className: star4 ? styles.trueBtn : styles.falseBtn,\n            children: \" \\u2605\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: starSetter,\n            name: \"star 3\",\n            className: star3 ? styles.trueBtn : styles.falseBtn,\n            children: \" \\u2605\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: starSetter,\n            name: \"star 2\",\n            className: star2 ? styles.trueBtn : styles.falseBtn,\n            children: \" \\u2605\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: starSetter,\n            name: \"star 1\",\n            className: star1 ? styles.trueBtn : styles.falseBtn,\n            children: \" \\u2605\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.input,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"subject\",\n            children: \"Subject\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            ref: subjectRef,\n            onInput: () => {\n              setErr(false);\n            },\n            name: \"subject\",\n            placeholder: \"subject\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 16\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.input,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"body\",\n            children: \"Body\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            ref: bodyRef,\n            onInput: () => {\n              setErr(false);\n            },\n            name: \"body\",\n            placeholder: \"body\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: clicker,\n          className: err ? styles.errBtn : styles.normBtn,\n          children: \"Add Review\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: displayHandler,\n        className: styles.displayButton,\n        children: \"Click Here to Display Reviews\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.visibility,\n        style: {\n          maxHeight: display\n        },\n        children: [props.isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \" Reviews Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 29\n        }, this), !props.isLoading && props.reviewList.map(review => /*#__PURE__*/_jsxDEV(ReviewItem, {\n          user: review.user,\n          date: review.date,\n          body: review.body,\n          stars: review.stars,\n          subject: review.subject\n        }, review.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 61\n        }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: props.plus,\n          children: \"Plus\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 9\n        }, this), circArr, /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: props.minus,\n          children: \"Minus\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 213,\n    columnNumber: 12\n  }, this);\n};\n\nexport default ReviewPage;","map":{"version":3,"sources":["C:/Users/dgaidar/Documents/VScode/React/FoodOrderingSite/components/Details/ReviewPage.js"],"names":["styles","useEffect","useRef","useState","ReviewItem","ReviewPage","props","subjectRef","bodyRef","star1","setStar1","star2","setStar2","star3","setStar3","star4","setStar4","star5","setStar5","err","setErr","display","setDisplay","circArr","setCircArr","prevVal","length","total","push","starSetter","e","preventDefault","target","name","prevState","console","log","clicker","stars","current","value","enteredReviewData","subject","body","date","Date","toISOString","split","addReviewHandler","displayHandler","plusHandler","plus","reviewList","reviewTitle","trueBtn","falseBtn","input","errBtn","normBtn","displayButton","visibility","maxHeight","isLoading","map","review","user","id","minus"],"mappings":"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","sourcesContent":["import styles from './Details.module.css';\r\nimport { useEffect, useRef, useState } from 'react';\r\nimport ReviewItem from './ReviewItem';\r\nconst ReviewPage = (props) => {\r\n    const subjectRef = useRef();\r\n    const bodyRef = useRef();\r\n    \r\n    const [star1, setStar1] = useState(false);\r\n    const [star2,setStar2] = useState(false);\r\n    const [star3, setStar3] = useState(false);\r\n    const [star4, setStar4] = useState(false);\r\n    const [star5, setStar5] = useState(false);\r\n    const [err, setErr] = useState(false);\r\n    const [display, setDisplay] = useState(0);\r\n    const [circArr, setCircArr] = useState([]);\r\n    useEffect(() => {\r\n       setCircArr(prevVal => {\r\n        prevVal = [];\r\n        \r\n        while (prevVal.length < props.total/2) {\r\n            prevVal.push(<span> &#9679;</span>)\r\n        }\r\n        return prevVal;\r\n       })\r\n    },[])\r\n    const starSetter = (e) => {\r\n        e.preventDefault();\r\n        if (e.target.name == 'star 1')\r\n        {\r\n            setStar1(prevState => {\r\n                if (star2 || star3 || star4 || star5){\r\n                    if (star2){\r\n                        setStar2(false);\r\n                    }\r\n                    if (star3){\r\n                    setStar3(false);\r\n                    }\r\n                    if (star4) {\r\n                        setStar4(false);\r\n                    }\r\n                    if (star5) {\r\n                        setStar5(false);\r\n                    }\r\n                    return prevState;\r\n                }\r\n                return !prevState});\r\n            \r\n           \r\n        }\r\n        if (e.target.name == 'star 2')\r\n        {\r\n            setStar2(prevState => {\r\n            if (star3 || star4 || star5){\r\n                if (star3){\r\n                setStar3(false);\r\n                }\r\n                if (star4) {\r\n                    setStar4(false);\r\n                }\r\n                if (star5) {\r\n                    setStar5(false);\r\n                }\r\n                return prevState;\r\n            }\r\n            prevState = !prevState;\r\n            setStar1(prevState === true);\r\n            return prevState;\r\n            })\r\n            \r\n        }\r\n        if (e.target.name == 'star 3')\r\n        {\r\n            setStar3(prevState => {\r\n                if ( star4 || star5){\r\n                    if (star4) {\r\n                        setStar4(false);\r\n                    }\r\n                    if (star5) {\r\n                        setStar5(false);\r\n                    }\r\n                    return prevState;\r\n                }\r\n                prevState = !prevState;\r\n                setStar2(prevState === true);\r\n                setStar1(prevState === true);\r\n                return prevState;\r\n                })\r\n        }\r\n        if (e.target.name == 'star 4')\r\n        {\r\n            setStar4(prevState => {\r\n                if ( star5){\r\n                    setStar5(false);\r\n                    return prevState;\r\n                }\r\n                prevState = !prevState;\r\n                setStar3(prevState === true);\r\n                setStar2(prevState === true);\r\n                setStar1(prevState === true);\r\n                return prevState;\r\n                })\r\n        }\r\n        if (e.target.name == 'star 5')\r\n        {\r\n            console.log('h');\r\n            setStar5(prevState => {\r\n                prevState = !prevState;\r\n                setStar4(prevState === true);\r\n                setStar3(prevState === true);\r\n                setStar2(prevState === true);\r\n                setStar1(prevState === true);\r\n                return prevState;\r\n                })\r\n        }\r\n       \r\n    }\r\n    const clicker = (e) => {\r\n        e.preventDefault();\r\n        let stars = 5;\r\n        if (!star1) {\r\n            stars = 4;\r\n        }\r\n        if (!star4) {\r\n            stars = 3;\r\n        }\r\n        if (!star3) {\r\n            stars = 2;\r\n        }\r\n        if (!star2){\r\n            stars = 1;\r\n        }\r\n        if (!star1) {\r\n            setErr(true);\r\n           \r\n            return;\r\n        }\r\n        if (subjectRef.current.value == ''){\r\n            setErr(true);\r\n           \r\n            return;\r\n        }\r\n        if (bodyRef.current.value == ''){\r\n            \r\n            setErr(true);\r\n            return;\r\n        }\r\n        setStar1(false);\r\n        setStar2(false);\r\n        setStar3(false);\r\n        setStar4(false);\r\n        setStar5(false);\r\n        const enteredReviewData = {\r\n            subject: subjectRef.current.value,\r\n            body: bodyRef.current.value,\r\n            stars: stars,\r\n            date: new Date().toISOString().split('T')[0]\r\n        }\r\n        subjectRef.current.value = '';\r\n        bodyRef.current.value = '';\r\n        props.addReviewHandler(enteredReviewData);\r\n    }\r\n    const displayHandler = () => {\r\n        if (display == 0){\r\n            setDisplay(500);\r\n            return;\r\n        }\r\n        setDisplay(0);\r\n    }\r\n    const plusHandler = () => {\r\n        props.plus();\r\n    }\r\n    console.log(props.reviewList);\r\n    if (props.reviewList) {\r\n    return <div>\r\n        <div className = {styles.reviewTitle}>\r\n            Reviews\r\n        </div>\r\n        <form>\r\n            <div className = {styles.stars}>\r\n            <button onClick ={starSetter} name = \"star 5\" className = {star5 ? styles.trueBtn : styles.falseBtn}> &#9733;</button>\r\n            <button onClick ={starSetter} name = \"star 4\" className = {star4 ? styles.trueBtn : styles.falseBtn}> &#9733;</button>\r\n            <button onClick ={starSetter} name = \"star 3\" className = {star3 ? styles.trueBtn : styles.falseBtn}> &#9733;</button>\r\n            <button onClick ={starSetter} name = \"star 2\" className = {star2 ? styles.trueBtn : styles.falseBtn}> &#9733;</button>\r\n            <button onClick ={starSetter} name = \"star 1\" className ={star1 ? styles.trueBtn : styles.falseBtn}> &#9733;</button>\r\n                </div>\r\n                <div className = {styles.input}>\r\n                <label htmlFor='subject'>Subject</label>\r\n               <input ref = {subjectRef} onInput = {() =>{setErr(false)}} name = \"subject\" placeholder='subject'/>\r\n                </div>\r\n             <div className = {styles.input}>\r\n            <label htmlFor = 'body'>Body</label>\r\n            <textarea ref = {bodyRef} onInput = {() => {setErr(false)}}name = \"body\" placeholder = 'body'/>\r\n            </div>   \r\n            <button onClick = {clicker} className = {err ? styles.errBtn : styles.normBtn } >Add Review</button>\r\n        </form>\r\n        <hr/>\r\n        <button onClick = {displayHandler} className = {styles.displayButton}>Click Here to Display Reviews</button>\r\n        <div className = {styles.visibility} style = {{maxHeight: display}}>\r\n        {props.isLoading && <div> Reviews Loading...</div>}\r\n        {!props.isLoading && props.reviewList.map(review => <ReviewItem \r\n        key = {review.id} \r\n        user = {review.user} \r\n        date = {review.date}\r\n        body = {review.body}\r\n        stars = {review.stars}\r\n        subject = {review.subject}/>)}\r\n        <button onClick = {props.plus}>Plus</button>\r\n         {circArr}\r\n        <button onClick = {props.minus}>Minus</button>\r\n        </div>\r\n    </div>\r\n    }\r\n    return <div></div>\r\n}\r\n\r\nexport default ReviewPage;"]},"metadata":{},"sourceType":"module"}
_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[8],{0:function(e,t,n){n("3Ckp"),e.exports=n("bBV7")},"1TCz":function(e,t,n){"use strict";n.r(t);var r=n("mK0O"),a=n("oYCi"),o=(n("zPlV"),n("NthX")),c=n.n(o),i=n("eijD"),s=n("Q+pG"),u=n.n(s),l=n("5dyF"),d=n.n(l),f=n("mXGw"),p=n("BtXh"),m=n("dAGg"),g=(n("A2So"),n("cWd2")),v=n.n(g),b=function(e){var t=Object(m.useRouter)();return Object(a.jsxs)("div",{style:{cursor:"pointer"},onClick:function(){console.log(e.id),t.push("/AllRestaurants/".concat(e.id)),e.clear()},className:v.a.display,children:[Object(a.jsx)("div",{className:v.a.name,children:e.name}),Object(a.jsx)("div",{className:v.a.description,children:e.description}),Object(a.jsx)("div",{className:v.a.address,children:e.address})]})},j=function(e){var t=Object(m.useRouter)(),n=Object(f.useContext)(p.b);return console.log(e.restaurants[0].id),Object(a.jsxs)("div",{className:v.a.displayContainer,children:[e.isLoading&&Object(a.jsx)("div",{className:v.a.centered,children:"Loading search results..."}),!e.isLoading&&e.restaurants.map((function(t){return Object(a.jsx)(b,{name:t.name,description:t.description,address:t.address,image:t.image,id:t.id,clear:e.clear},t.id)})),Object(a.jsx)("div",{className:v.a.centered,children:Object(a.jsx)("button",{onClick:function(){console.log(n),n.pushStr(e.search),e.clear(),t.push("/AllRestaurants/search")},className:v.a.redirectBtn,children:"More Options Here!"})})]})},h=function(){var e=Object(f.useContext)(p.b),t=Object(m.useRouter)(),n=Object(f.useState)(!1),r=n[0],o=n[1],s=Object(f.useState)(""),l=s[0],g=s[1],v=Object(f.useState)([]),b=v[0],h=v[1],O=Object(f.useState)(!1),_=O[0],y=O[1];function S(){return(S=Object(i.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,fetch("../api/getResListHandler?name=".concat(t),{method:"GET"});case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,h(r[0].data),o(!1);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(f.useEffect)((function(){var e=setTimeout((function(){console.log("this is on a timer",l),l.length>0&&(!function(e){S.apply(this,arguments)}(l),console.log(b),_||y(!0))}),500);return function(){clearTimeout(e)}}),[l]);return Object(a.jsxs)("header",{className:u.a.header,children:[Object(a.jsx)("div",{className:u.a.logo,children:Object(a.jsx)(d.a,{href:"/",children:"ReactEats"})}),e.isLoggedIn&&!e.isBusiness&&"/AllRestaurants/search"!=window.location.pathname&&Object(a.jsxs)("button",{onClick:function(){e.toggle()},className:u.a.navButton,children:["\ud83d\uded2 Your Cart  ",Object(a.jsxs)("div",{className:u.a.cart,children:[" ",e.items]})]}),Object(a.jsx)("div",{children:e.isLoggedIn&&!e.isBusiness&&"/AllRestaurants/search"!=window.location.pathname&&Object(a.jsxs)("div",{className:u.a.inputContainer,children:[Object(a.jsx)("input",{className:_?"".concat(u.a.input," ").concat(u.a.on):u.a.input,onInput:function(e){g(e.target.value),""==e.target.value&&_&&y(!1)},value:l,placeholder:"Find Restaurant"}),_&&0!=b.length&&Object(a.jsx)(j,{isLoading:r,clear:function(){g(""),h([]),y(!1)},search:l,restaurants:b})]})}),Object(a.jsx)("nav",{children:Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:Object(a.jsxs)("span",{children:[e.isLoggedIn&&!e.isBusiness&&Object(a.jsx)(d.a,{href:"/AllRestaurants",children:"All restaurants"}),e.isLoggedIn&&e.isBusiness&&Object(a.jsx)(d.a,{href:"/business",children:"Customize Menu"})]})}),Object(a.jsx)("li",{children:e.isLoggedIn&&Object(a.jsx)("span",{onClick:function(){e.logout(),t.push("/")},children:"Logout"})})]})})]})},O=n("Qd8m"),_=n.n(O),y=function(e){return Object(a.jsxs)("div",{children:[Object(a.jsx)(h,{style:{boxShadow:"rgba(100, 100, 111, 0.2) 0px 7px 29px 0px"}}),Object(a.jsx)("main",{className:_.a.main,children:e.children})]})};function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=function(e){var t=e.Component,n=e.pageProps;return Object(a.jsx)(p.a,{children:Object(a.jsx)(y,{children:Object(a.jsx)(t,x({},n))})})}},"3Ckp":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n("1TCz")}])},"5dyF":function(e,t,n){e.exports=n("9CGT")},"9CGT":function(e,t,n){"use strict";var r=n("nxTg"),a=n("vdEC");t.__esModule=!0,t.default=void 0;var o=a(n("mXGw")),c=n("a4i1"),i=n("bBV7"),s=n("hY8M"),u={};function l(e,t,n,r){if(e&&(0,c.isLocalURL)(t)){e.prefetch(t,n,r).catch((function(e){0}));var a=r&&"undefined"!==typeof r.locale?r.locale:e&&e.locale;u[t+"%"+n+(a?"%"+a:"")]=!0}}var d=function(e){var t=!1!==e.prefetch,n=(0,i.useRouter)(),a=n&&n.pathname||"/",d=o.default.useMemo((function(){var t=(0,c.resolveHref)(a,e.href,!0),n=r(t,2),o=n[0],i=n[1];return{href:o,as:e.as?(0,c.resolveHref)(a,e.as):i||o}}),[a,e.href,e.as]),f=d.href,p=d.as,m=e.children,g=e.replace,v=e.shallow,b=e.scroll,j=e.locale;"string"===typeof m&&(m=o.default.createElement("a",null,m));var h=o.Children.only(m),O=h&&"object"===typeof h&&h.ref,_=(0,s.useIntersection)({rootMargin:"200px"}),y=r(_,2),S=y[0],x=y[1],I=o.default.useCallback((function(e){S(e),O&&("function"===typeof O?O(e):"object"===typeof O&&(O.current=e))}),[O,S]);(0,o.useEffect)((function(){var e=x&&t&&(0,c.isLocalURL)(f),r="undefined"!==typeof j?j:n&&n.locale,a=u[f+"%"+p+(r?"%"+r:"")];e&&!a&&l(n,f,p,{locale:r})}),[p,f,x,j,t,n]);var C={ref:I,onClick:function(e){h.props&&"function"===typeof h.props.onClick&&h.props.onClick(e),e.defaultPrevented||function(e,t,n,r,a,o,i,s){("A"!==e.currentTarget.nodeName||!function(e){var t=e.currentTarget.target;return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&(0,c.isLocalURL)(n))&&(e.preventDefault(),null==i&&(i=r.indexOf("#")<0),t[a?"replace":"push"](n,r,{shallow:o,locale:s,scroll:i}).then((function(e){e&&i&&document.body.focus()})))}(e,n,f,p,g,v,b,j)},onMouseEnter:function(e){(0,c.isLocalURL)(f)&&(h.props&&"function"===typeof h.props.onMouseEnter&&h.props.onMouseEnter(e),l(n,f,p,{priority:!0}))}};if(e.passHref||"a"===h.type&&!("href"in h.props)){var w="undefined"!==typeof j?j:n&&n.locale,N=n&&n.isLocaleDomain&&(0,c.getDomainLocale)(p,w,n&&n.locales,n&&n.domainLocales);C.href=N||(0,c.addBasePath)((0,c.addLocale)(p,w,n&&n.defaultLocale))}return o.default.cloneElement(h,C)};t.default=d},A2So:function(e,t,n){"use strict";var r=n("oYCi"),a=n("ZJlY"),o=n.n(a);t.a=function(e){return Object(r.jsx)("div",{className:o.a.card,children:e.children})}},BtXh:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("oYCi");function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var c=n("mXGw"),i=n.n(c),s=(n("A2So"),i.a.createContext({token:"",isLoggedIn:!1,login:function(e,t,n,r){},logout:function(){},user:"",isBusiness:!1,items:0,totalPrice:0,isOpen:!1,currCart:[],searchStr:"",toggle:function(){},append:function(e){},remove:function(e){},checkout:function(){},findIndex:function(e){},pushStr:function(){}})),u=function(e){var t=[],n=0,a=0,i="",u=!1,l="",d=localStorage.getItem("cart"),f=parseInt(localStorage.getItem("item")),p=parseInt(localStorage.getItem("total")),m=localStorage.getItem("user"),g=localStorage.getItem("business"),v=localStorage.getItem("search");d&&(t=JSON.parse(d)),f&&(n=f),p&&(a=p),m&&(i=m),u="true"===g,v&&(l=v);var b,j=Object(c.useState)(t),h=j[0],O=j[1],_=Object(c.useState)(n),y=_[0],S=_[1],x=Object(c.useState)(!1),I=x[0],C=x[1],w=Object(c.useState)(a),N=w[0],R=w[1],L=Object(c.useState)(i),k=L[0],E=L[1],P=Object(c.useState)(u),M=P[0],B=P[1],A=Object(c.useState)(l),T=A[0],X=A[1],G=localStorage.getItem("token");G&&(b=G);var J=Object(c.useState)(b),Y=J[0],D=J[1],K={token:Y,isLoggedIn:!!Y,login:function(e,t,n,r){D(e),E(t+" "+n),localStorage.setItem("token",e),B(r),localStorage.setItem("business",r.toString()),localStorage.setItem("user",t+" "+n)},logout:function(e){D(null),localStorage.removeItem("token"),localStorage.clear(),O([]),R(0),B(null),S(0),D(""),E("")},user:k,items:y,isOpen:I,isBusiness:M,currCart:h,totalprice:N,searchStr:T,pushStr:function(e){X(e),localStorage.setItem("search",e)},toggle:function(){C((function(e){return!e}))},append:function(e,t){var n=function(t){if(h[t].item===e)return O((function(e){return e[t].amount+=1,e[t].total+=e[t].price,localStorage.setItem("cart",JSON.stringify(e)),e})),S((function(e){return parseInt(e)+1})),R((function(e){return e+h[t].price})),localStorage.setItem("item",parseInt(y)+1),localStorage.setItem("total",parseInt(N)+h[t].price),{v:void 0}};for(var r in h){var a=n(r);if("object"===typeof a)return a.v}O((function(n){return void 0!==n?(n=[].concat(o(n),[{amount:1,total:t,price:t,item:e}]),localStorage.setItem("cart",JSON.stringify(n)),n):(localStorage.setItem("cart",JSON.stringify([{amount:1,total:t,price:t,item:e}])),[{amount:1,total:t,price:t,item:e}])})),S((function(e){return parseInt(e)+1})),localStorage.setItem("item",parseInt(y)+1),localStorage.setItem("total",parseInt(N)+t),R((function(e){return e+t}))},remove:function(e){var t=function(t){if(h[t].item===e)return O((function(e){return e[t].amount,0!==e[t].amount?(e[t].amount-=1,e[t].total-=e[t].price,localStorage.setItem("cart",JSON.stringify(e)),e):e})),S((function(e){return 1!=h[t].item?parseInt(e)-1:e})),1!=h[t].item&&(localStorage.setItem("total",parseInt(N)-h[t].price),R((function(e){return e-h[t].price})),localStorage.setItem("item",parseInt(y)-1)),{v:void 0}};for(var n in h){var r=t(n);if("object"===typeof r)return r.v}},checkout:function(){R(0),S(0),O((function(e){for(var t in e)e[t].amount-=e[t].amount,e[t].total-=e[t].total;return localStorage.setItem("cart",JSON.stringify(e)),e})),localStorage.setItem("total",0),localStorage.setItem("item",0)},findIndex:function(e){for(var t in h)if(h[t].item===e)return t;return!1}};return Object(r.jsx)(s.Provider,{value:K,children:e.children})};t.b=s},"Q+pG":function(e,t,n){e.exports={header:"Nav_header__1OMRK",logo:"Nav_logo__VnMqT",inputContainer:"Nav_inputContainer__3ZExw",input:"Nav_input__3isJr",on:"Nav_on__RkBn-",navButton:"Nav_navButton__2TcjF",cart:"Nav_cart__3bF4n",active:"Nav_active__2tN4X"}},Qd8m:function(e,t,n){e.exports={main:"MainHeader_main__2Pdxg"}},ZJlY:function(e,t,n){e.exports={card:"Card_card__K0CRX",detailCard:"Card_detailCard__1Soue",itemCard:"Card_itemCard__1wKsw"}},cWd2:function(e,t,n){e.exports={img:"ResCard_img__2kywi",description:"ResCard_description__3pY4U",name:"ResCard_name__1IBpY",address:"ResCard_address__1iQ-r",displayContainer:"ResCard_displayContainer__3dXLP",display:"ResCard_display__3MLUE",centered:"ResCard_centered__1rDfZ",redirectBtn:"ResCard_redirectBtn__vEi_9"}},dAGg:function(e,t,n){e.exports=n("bBV7")},eijD:function(e,t,n){"use strict";function r(e,t,n,r,a,o,c){try{var i=e[o](c),s=i.value}catch(u){return void n(u)}i.done?t(s):Promise.resolve(s).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var c=e.apply(t,n);function i(e){r(c,a,o,i,s,"next",e)}function s(e){r(c,a,o,i,s,"throw",e)}i(void 0)}))}}n.d(t,"a",(function(){return a}))},hY8M:function(e,t,n){"use strict";var r=n("nxTg");t.__esModule=!0,t.useIntersection=function(e){var t=e.rootMargin,n=e.disabled||!c,s=(0,a.useRef)(),u=(0,a.useState)(!1),l=r(u,2),d=l[0],f=l[1],p=(0,a.useCallback)((function(e){s.current&&(s.current(),s.current=void 0),n||d||e&&e.tagName&&(s.current=function(e,t,n){var r=function(e){var t=e.rootMargin||"",n=i.get(t);if(n)return n;var r=new Map,a=new IntersectionObserver((function(e){e.forEach((function(e){var t=r.get(e.target),n=e.isIntersecting||e.intersectionRatio>0;t&&n&&t(n)}))}),e);return i.set(t,n={id:t,observer:a,elements:r}),n}(n),a=r.id,o=r.observer,c=r.elements;return c.set(e,t),o.observe(e),function(){c.delete(e),o.unobserve(e),0===c.size&&(o.disconnect(),i.delete(a))}}(e,(function(e){return e&&f(e)}),{rootMargin:t}))}),[n,t,d]);return(0,a.useEffect)((function(){if(!c&&!d){var e=(0,o.requestIdleCallback)((function(){return f(!0)}));return function(){return(0,o.cancelIdleCallback)(e)}}}),[d]),[p,d]};var a=n("mXGw"),o=n("pksY"),c="undefined"!==typeof IntersectionObserver;var i=new Map},mK0O:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},zPlV:function(e,t,n){}},[[0,0,2,1]]]);